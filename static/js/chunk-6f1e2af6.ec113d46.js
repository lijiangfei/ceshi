(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f1e2af6"],{"122e":function(t,e,i){"use strict";i("e5ad")},"74b8":function(t,e,i){},"90ea":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leak_news"},[t._m(0),i("div",{staticClass:"select_box",staticStyle:{display:"flex"}},[i("div",{staticStyle:{"margin-right":"30px"}},[i("el-select",{attrs:{placeholder:"漏洞等级"},on:{change:t.changeDengji},model:{value:t.grade,callback:function(e){t.grade=e},expression:"grade"}},t._l(t.gradeArr,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("div",{staticStyle:{"margin-right":"30px"}},[i("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","value-format":"yyyy-MM-dd","end-placeholder":"结束日期"},on:{change:t.changeTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),i("div",{staticStyle:{display:"flex","margin-left":"auto"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.chanageType},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},t._l(t.codeArr,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("el-input",{staticStyle:{width:"380px"},attrs:{placeholder:"请输入内容","suffix-icon":"el-icon-search"},on:{change:t.changeSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeSearch(e)}},model:{value:t.nameCode,callback:function(e){t.nameCode=e},expression:"nameCode"}})],1)]),i("div",{staticClass:"inner"},[0!=t.list.length||t.isLoading?t._e():i("div",{staticStyle:{"text-align":"center","line-height":"400px","font-size":"20px"}},[t._v(" 暂无数据 ")]),t._l(t.list,(function(e,a){return i("div",{key:a,staticClass:"grid"},[i("div",{staticClass:"bot_border"},[i("div",{staticClass:"title",on:{click:function(i){return t.toDetail({id:e.id,isReadId:e.isReadId,isRead:e.isRead})}}},["0"==e.isRead?i("div",{staticClass:"circle"}):t._e(),i("el-tooltip",{attrs:{placement:"bottom-start","open-delay":500,disabled:t.nameTooltip}},[i("div",{staticClass:"tip_con",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.name))]),i("div",{staticClass:"tle",on:{mouseover:function(i){return t.nameOver("name"+a,e.name)}}},[t.isIE?i("span",{ref:"name"+a,refInFor:!0,attrs:{title:e.name}},[t._v(t._s(e.name))]):i("span",{ref:"name"+a,refInFor:!0},[t._v(t._s(e.name))])])]),i("div",{staticClass:"tags"},[1==e.riskLevel?i("div",{staticClass:"dw"},[t._v("低危")]):t._e(),2==e.riskLevel?i("div",{staticClass:"zw"},[t._v("中危")]):t._e(),3==e.riskLevel?i("div",{staticClass:"gw"},[t._v("高危")]):t._e(),4==e.riskLevel?i("div",{staticClass:"yz"},[t._v("严重")]):t._e(),e.pocCode&&"无权限"!=e.pocCode?i("div",{staticClass:"poc"},[t._v(" POC ")]):t._e()])],1),i("div",{staticClass:"txt_box"},[i("div",{staticClass:"left_box"},[i("div",{staticClass:"left"},[i("div",{staticClass:"item_one"},[t._v("漏洞编号："+t._s(e.loopholeCode))]),i("div",{staticClass:"item_one"},[i("el-tooltip",{attrs:{placement:"bottom-start","open-delay":500,disabled:t.csTooltip}},[i("div",{staticClass:"tip_con",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(e.customerUserId)+" ")]),i("div",{staticClass:"item_one",on:{mouseover:function(i){return t.csOver("cs"+a,e.customerUserId)}}},[t.isIE?i("span",{ref:"cs"+a,refInFor:!0,attrs:{title:e.customerUserId}},[t._v("厂商："+t._s(e.customerUserId))]):i("span",{ref:"cs"+a,refInFor:!0},[t._v("厂商："+t._s(e.customerUserId))])])])],1),i("div",{staticClass:"item_one"},[t._v("发布时间："+t._s(e.releaseTime))])]),i("div",{staticClass:"left"},[i("div",{staticClass:"item_one"},[i("el-tooltip",{attrs:{placement:"bottom-start","open-delay":500,disabled:t.cnnvdTooltip}},[i("div",{staticClass:"tip_con",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.cnnvdNo))]),i("div",{staticClass:"item_one",on:{mouseover:function(i){return t.cnnvdOver("cnnvd"+a,e.cnnvdNo)}}},[t.isIE?i("span",{ref:"cnnvd"+a,refInFor:!0,attrs:{title:e.cnnvdNo}},[t._v("CNNVD编号："+t._s(e.cnnvdNo))]):i("span",{ref:"cnnvd"+a,refInFor:!0},[t._v("CNNVD编号："+t._s(e.cnnvdNo))])])])],1),i("div",{staticClass:"item_one"},[i("el-tooltip",{attrs:{placement:"bottom-start","open-delay":500,disabled:t.cnvdTooltip}},[i("div",{staticClass:"tip_con",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.cnvdNo))]),i("div",{staticClass:"item_one",on:{mouseover:function(i){return t.cnvdOver("cnvd"+a,e.cnvdNo)}}},[t.isIE?i("span",{ref:"cnvd"+a,refInFor:!0,attrs:{title:e.cnvdNo}},[t._v("CNVD编号："+t._s(e.cnvdNo))]):i("span",{ref:"cnvd"+a,refInFor:!0},[t._v("CNVD编号："+t._s(e.cnvdNo))])])])],1),i("div",{staticClass:"item_one"},[i("el-tooltip",{attrs:{placement:"bottom-start","open-delay":500,disabled:t.cveTooltip}},[i("div",{staticClass:"tip_con",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.cveNo))]),i("div",{staticClass:"item_one",on:{mouseover:function(i){return t.cveOver("cve"+a,e.cveNo)}}},[t.isIE?i("span",{ref:"cve"+a,refInFor:!0,attrs:{title:e.cveNo}},[t._v("CVE编号："+t._s(e.cveNo))]):i("span",{ref:"cve"+a,refInFor:!0},[t._v("CVE编号："+t._s(e.cveNo))])])])],1)])]),i("div",{staticClass:"right"},[e.holePatch&&"无权限"!=e.holePatch||e.patchLink&&"无权限"!=e.patchLink?i("el-button",{staticClass:"buding_hover",attrs:{disabled:(""==e.holePatch||"无权限"==e.holePatch)&&(""==e.patchLink||"无权限"==e.patchLink),type:"text"},on:{click:function(i){return t.toBd(a,e)}}},[t._v("补丁")]):i("el-button",{attrs:{disabled:(""==e.holePatch||"无权限"==e.holePatch)&&(""==e.patchLink||"无权限"==e.patchLink),type:"text"}},[t._v("补丁")]),i("div",{staticClass:"mid"},[t._v("|")]),i("el-button",{staticClass:"buding_hover",attrs:{type:"text"},on:{click:function(i){return t.toDetail({id:e.id,isReadId:e.isReadId,isRead:e.isRead})}}},[t._v("查看")])],1)])])])}))],2),i("div",{ref:"name0",staticClass:"page_box"},[i("div",{staticClass:"page_inner"},[i("el-pagination",{attrs:{"current-page":t.pageNo,"page-sizes":[10,20,30,40,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),i("el-dialog",{attrs:{title:"补丁下载方式",visible:t.dialogVisible,width:"450px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dialog_con"},[i("div",{staticClass:"item"},[i("div",{staticClass:"txt1"},[t._v("1.补丁链接")]),i("div",{ref:"bdlj",staticClass:"txt2",class:{gdt:t.nowRow.patchLink&&"暂无"!=t.nowRow.patchLink&&t.bdljH>48}},[t._v(" "+t._s(t.nowRow.patchLink?t.nowRow.patchLink:"暂无")+" ")])]),i("div",{staticClass:"item",staticStyle:{"overflow-y":"hidden"}},[i("div",{staticClass:"txt1"},[t._v("2.漏洞补丁")]),i("div",{staticClass:"txt2",staticStyle:{display:"flex","line-height":"36px"}},[t.nowRow.holePatch&&"无权限"!=t.nowRow.holePatch?i("i",{staticClass:"el-icon-paperclip",staticStyle:{"margin-top":"10px"}}):t._e(),i("div",{staticStyle:{"margin-right":"10px","margin-left":"4px"}},[t._v(" "+t._s(t.nowRow.holePatchName?t.nowRow.holePatchName:"暂无")+" ")]),t.nowRow.holePatch&&"无权限"!=t.nowRow.holePatch?i("div",[i("el-button",{attrs:{type:"text",disabled:t.disabledXz},on:{click:t.download}},[t._v("下载")])],1):t._e()])])])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top_box"},[i("div",{staticClass:"title"},[i("div",{staticClass:"line"}),i("div",{staticClass:"txt"},[t._v("漏洞情报")]),i("div")])])}];function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={data:function(){return{nameTooltip:!1,nameHover:"",csTooltip:!1,csHover:"",cnnvdTooltip:!1,cnnvdHover:"",cnvdTooltip:!1,cnvdHover:"",cveTooltip:!1,cveHover:"",isLoading:!1,haveRead:!1,dataList:[],dialogVisible:!1,startTime:"",endTime:"",grade:"",time:"",nameCode:"",code:"name",gradeArr:[{label:"漏洞等级",value:""},{label:"低危",value:"1"},{label:"中危",value:"2"},{label:"高危",value:"3"},{label:"严重",value:"4"}],codeArr:[{label:"漏洞名称",value:"name"},{label:"厂商名称",value:"customer_user_id"},{label:"漏洞编号",value:"loophole_code"},{label:"CVE编号",value:"cve_no"}],list:[],pageSize:10,pageNo:1,total:10,currentIdx:0,nowRow:{},bdljH:"",disabledXz:!1,downloadFileType:"application/zip;application/x-rar-compressed;application/msword;application/vnd.openxmlformats-officedocument.wordprocessingml.document;application/pdf;image/jpeg;xlsx/xls/xlt/xla"}},mounted:function(){this.initData(),this.$store.dispatch("user/getUserIsRd")},methods:{nameOver:function(t,e){var i,a,s=this.$refs[t][0];i=s.parentNode.offsetWidth,a=this.isIE?s.clientWidth:s.offsetWidth,this.nameTooltip=a<=i,this.nameHover=e},csOver:function(t,e){var i=this.$refs[t][0],a=i.parentNode.offsetWidth,s=i.offsetWidth;this.csTooltip=s<=a,this.csHover=e},cnnvdOver:function(t,e){var i=this.$refs[t][0],a=i.parentNode.offsetWidth,s=i.offsetWidth;this.cnnvdTooltip=s<=a,this.cnnvdHover=e},cnvdOver:function(t,e){var i=this.$refs[t][0],a=i.parentNode.offsetWidth,s=i.offsetWidth;this.cnvdTooltip=s<=a,this.cnvdHover=e},cveOver:function(t,e){var i=this.$refs[t][0],a=i.parentNode.offsetWidth,s=i.offsetWidth;this.cveTooltip=s<=a,this.cveHover=e},touchDownload:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.downloadFileType,a=new Blob([t],{type:i});window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(a,e);var s=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=s,document.body.appendChild(n),n.download=decodeURI(e),n.click(),window.URL.revokeObjectURL(s),document.body.removeChild(n),this.dialogVisible=!1},initData:function(){var t=this;this.checkLoading(!0),this.isLoading=!0,this.$api.getLeakList({pageSize:this.pageSize,pageNo:this.pageNo,data:this.nameCode,startTime:this.startTime,endTime:this.endTime,dataType:this.code,userId:parseInt(localStorage.getItem("userId")),riskLevel:this.grade}).then((function(e){t.isLoading=!1,t.checkLoading(!1),200===e.code?(t.list=e.data.dataList,t.list=t.list.map((function(t){for(var e in t)t[e]&&"null"!==t[e]||"patchLink"!=e&&"holePatchName"!=e&&"holePatch"!=e&&"pocCode"!=e&&(t[e]="-");return o({},t)})),t.total=e.data.totalRecord):t.$message.error(e.msg)}))},chanageType:function(){this.pageNo=1,this.pageSize=10,this.initData()},changeDengji:function(){this.pageNo=1,this.pageSize=10,this.initData()},changeTime:function(t){t?(this.startTime=t[0],this.endTime=t[1],this.pageNo=1,this.pageSize=10,this.initData()):(this.startTime="",this.endTime="",this.pageNo=1,this.pageSize=10,this.initData())},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},handleSizeChange:function(t){this.pageSize=t,this.initData()},handleCurrentChange:function(t){this.pageNo=t,this.initData()},toDetail:function(t){var e=t.id,i=t.isReadId,a=t.isRead;this.isIE&&this.isIE<11?this.$notify({title:"警告",message:"当前浏览器不支持下载、富文本新增编辑等功能，建议您使用Chrome浏览器",type:"warning",duration:0}):this.$router.push({name:"leak_news_detail",query:{id:e,isReadId:i,isRead:a}})},toBd:function(t,e){var i=this;this.dialogVisible=!0,this.currentIdx=t,this.nowRow=e,this.$nextTick((function(){var t=window.getComputedStyle(i.$refs.bdlj).height.replace(/\px+/g,"");i.bdljH=parseInt(t)}))},download:function(){var t=this;if(this.isIE&&this.isIE<11)this.$notify({title:"警告",message:"当前浏览器不支持下载、富文本新增编辑等功能，建议您使用Chrome浏览器",type:"warning",duration:0});else{var e=this.$message.success({message:"即将开始下载，请稍后...",duration:0});this.$api.downloadFile({id:parseInt(this.nowRow.holePatch),userId:localStorage.getItem("userId"),loopId:this.nowRow.id}).then((function(i){setTimeout((function(){e.close()}),1e3),t.touchDownload(i,t.nowRow.holePatchName)}))}},changeSearch:function(){this.pageNo=1,this.pageSize=10,this.initData()}}},r=c,d=(i("122e"),i("be04"),i("2877")),v=Object(d["a"])(r,a,s,!1,null,"53b038f2",null);e["default"]=v.exports},be04:function(t,e,i){"use strict";i("74b8")},e5ad:function(t,e,i){}}]);